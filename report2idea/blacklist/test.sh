#!/bin/bash

# input data:
in='
H4sIAAO1Pl0AA62X3U7bQBCFMX2BXvQBkHuLVjuz/32M3rQSQm5ITOrWxKntFFGUd++sAyQOsyIB
fJHIY+/s7pezZyYfTobr02Q+b8v5pC9nxVU9mf6uq64/Ofl4mn29z7t2WnTloi+u7vqyy7+cGXt+
li/bpm+mTU33QLdds2qnZbFs2j6+cnFJsb4r6knXxzeMDgo0fQhvdXw07zc5lzRZOQyRMcvjVNd1
c9s9pO4n7XzzykUOAQVYL0AZ4V1++TQzPd0+lEYgqHx3nseEcrOu66rlF/a0+6Ka0XNPIWJT3FaL
4qZarB4AiCHN3XKYtlrmu0vf7gh2F/AIT65PPzNMwSmp3ZirZbgaus7PNF0sYasdcUGeMO3TsJBt
gjJKKfTAcTeiwm4ErBUwCoRAvwDuj7LjgKPv8TBPmf0oAm4vs9XC4XguSbnGL0EMm4Q0homlZaWB
vDaAhphB8nvaAHyTOpy1nD4AlZR+ndWMSNAMa3xBIt4isOIg6Qh0hheH4pSBCWEoiL/pCLtzAjWm
TiSdL8NCB5a5ARRKmnc+j+hY4MbytMEhHkBb8gcRAnmQ41mD5mC7lNd5ILwjkTsjkqzp+AWetWFZ
K60oGT5nPfjh682PdT8Ao9bZN462x/AybZ61RPIFxbNGOKqueGFkSsROCq+PUHFclwwM2TepOHBc
UWuF66xiwO45xqDJfaxKAS9jAyQOmajYbDGRKbLOCj+qJRSIdSIFOwjeplVCxbF8uOesFb4FtmRh
o1xn31+LWurA125DtTuk7JlVcYo1Kk0AkyUw1sxjzPhpXe8pY5as0o4nC4cUPrReGr7x1F5Y549A
q1IyDiC0TaD1hgzEH4FWE1r97n2n4tAasoefHFljD/DdRJXTVgkrgefK2kOyo7DCjfpKBBM7zYQ7
oLB4BGdlJdVFhvPb3IFt4LwM6+wHQ1opH8wh/VuKNUGxIaFhx/ZvyTIXVZyEG/tuGfgemZcxOmH9
e8sYteH4Uj+u9Tqb3Y8XYjXh9Zo6gXCAnqlcbjdf0BLi/k0Eo+MfE/K7nAc9+FDVFc2iviuu/8wW
FOvbVblNtmrjpPlN007+VpPFL4ouJrVYLZtaTP8lqbblddmWbRya79CJ2Z5zhT2BPGxeUwtueeQs
ybCxxF2BbLThbex0LtcnmfwPiEoCeCIQAAA=
'

# output data:
out='
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
OxEiAAA=
'

blconfig="
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
P3M111h/IfqTx1ijCYfB1P9Y/QuhfCd2mzUAAA==
"

configfile="`mktemp`"
echo "$blconfig" | base64 -d | gunzip > "$configfile"

test -z "$srcdir" && export srcdir=.

. $srcdir/../test.sh

test_conversion "blacklist" "blacklist" "$in" "$out" --blacklist-config "$configfile"
result=$?

rm "$configfile"

exit $result

